{% extends 'layout.html' %}
{% block content %}
<br>
  <div class="container" style="border: solid 2px #D1D1D1;">
  <br>
  <form action="/search" method="POST">
    <div class="mb-5 d-flex position-relative">
        <!-- Search -->
        <div class="input-group w-50 mx-auto">
            <input class="form-control py-2"
                   placeholder="Suche nach Nachname" name="search_probands" value="{{search}}"/>
            <button type="submit" class="btn btn-primary">Search
            </button>
        </div>
    </div>
</form>
{% if probandsList %}

     {{ pagination.links }}

 <h1 class="text-primary">&ensp;Probanden</h1>
 <table >
            <thead>
                <tr>
                    <th>Nr.</th>
                </tr>
            </thead>
 <tbody>
    {% for p in probandsList %}
         <tr>
            <td>{{ loop.index + (page - 1) * per_page }}</td>
           <td>&ensp;
         <form method="POST" action="./update" style="display: inline">
              <input type="hidden" value="{{p.lastname}}" name="oldlastname">
              <input type="text" value="{{p.lastname}}" name="newlastname" style="width: 6em">
              <input type="hidden" value="{{p.firstname}}" name="oldfirstname">
              <input type="text" value="{{p.firstname}}" name="newfirstname" style="width: 6em">
              <input type="hidden" value="{{p.email}}" name="oldemail">
              <input type="text" value="{{p.email}}" name="newemail" style="width: 10em">
              <input type="date" value="{{p.birthday}}" name="newbirthday">
              <input type="number" value="{{p.height}}" name="newheight" min="50" max="250" step="0.1" style="width: 4em">
              <input type="number" value="{{p.weight}}" name="newweight" min="20" max="250" step="0.1" style="width: 4em">
            <!--  <input type="number" value="{{p.bmi}}" name="bmi" min="1" max="1" readonly style="width: 4em"> -->
              <input type="number" value="{{p.health}}" name="newhealth" min="1" max="6" step="0.1" style="width: 3em">
              <select name="genselect">
                  {% for g in genders %}
                      <option value="{{ g.name }}" {% if g.id==p.gender %} selected {% endif %}>{{ g.name }}</option>
                    {% endfor %}
                </select>&ensp;
              <input type="submit" value="Update" class="btn btn-primary">
         </form>
        </td>
        <td>&ensp;
            <form method="POST" action="./delete" style="display: inline">
              <input type="hidden" value="{{p.email}}" name="email">
              <input type="submit" value="Delete" class="btn btn-primary" style="background-color: orangered">
            </form>
          </td>
     </tr>
 {% endfor %}
  </tbody>
 </table>

         {{ pagination.links }}


{% endif %}
</div>
{% endblock %}